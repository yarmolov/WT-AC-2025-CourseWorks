# Вариант 24 — Карточки (пользовательские истории)

## 1. Регистрация и аутентификация

**Как** пользователь, **я хочу** зарегистрироваться и войти в систему, **чтобы** получить доступ к дорожным картам.

**Критерии приёмки:**

- Форма регистрации с полями username, email и password
- Валидация: username не пустой, email валидный, password минимум 8 символов (минимум 1 цифра, минимум 1 буква)
- После успешной регистрации → редирект на страницу логина
- После успешного логина → редирект на дашборд
- Rate limiting: максимум 5 попыток входа в минуту

---

## 2. Просмотр списка дорожных карт

**Как** пользователь, **я хочу** видеть список доступных дорожных карт, **чтобы** выбрать интересующую меня.

**Критерии приёмки:**

- Страница со списком roadmaps (название, описание, категория, сложность)
- Пользователи видят только опубликованные roadmaps (`is_published=true`)
- Фильтрация по категории и сложности
- Пагинация при большом количестве
- Клик по карточке → переход на страницу roadmap

---

## 3. Просмотр дорожной карты

**Как** пользователь, **я хочу** видеть шаги дорожной карты, **чтобы** понимать путь обучения.

**Критерии приёмки:**

- Страница roadmap с заголовком и описанием
- Список шагов (Step) в правильном порядке
- Отображение статуса выполнения каждого шага

---

## 4. Просмотр ресурсов шага

**Как** пользователь, **я хочу** видеть ресурсы для каждого шага, **чтобы** изучить материалы.

**Критерии приёмки:**

- При клике на шаг отображаются ресурсы (Resource)
- Для каждого ресурса: название, тип (article/video/course), ссылка
- Клик по ссылке открывает ресурс в новой вкладке

---

## 5. Отметка шага как выполненного

**Как** пользователь, **я хочу** отмечать шаги как выполненные, **чтобы** отслеживать свой прогресс.

**Критерии приёмки:**

- Кнопка/чекбокс для отметки шага
- После отметки шаг визуально выделяется как выполненный
- Прогресс сохраняется в базе данных

---

## 6. Просмотр прогресса

**Как** пользователь, **я хочу** видеть свой прогресс по дорожной карте, **чтобы** понимать сколько осталось.

**Критерии приёмки:**

- Прогресс-бар с процентом выполнения
- Отображение количества выполненных/всего шагов
- Прогресс обновляется при отметке шага

---

## 7. Создание дорожной карты (Admin)

**Как** администратор, **я хочу** создавать дорожные карты, **чтобы** пользователи могли их проходить.

**Критерии приёмки:**

- Форма создания roadmap (title, description, category, difficulty, is_published)
- Валидация: title обязателен, difficulty — один из [beginner, intermediate, advanced]
- По умолчанию `is_published=false` (черновик)
- После создания → редирект на страницу редактирования

---

## 8. Управление шагами (Admin)

**Как** администратор, **я хочу** добавлять/редактировать/удалять шаги, **чтобы** формировать дорожную карту.

**Критерии приёмки:**

- Форма добавления шага (title, description, order)
- Возможность изменить порядок шагов
- Возможность удалить шаг

---

## 9. Управление ресурсами (Admin)

**Как** администратор, **я хочу** добавлять ресурсы к шагам, **чтобы** пользователи имели материалы для изучения.

**Критерии приёмки:**

- Форма добавления ресурса (title, url, type)
- Валидация: url должен быть валидным
- Возможность удалить ресурс

---

## 10. Просмотр прогресса пользователей (Admin)

**Как** администратор, **я хочу** видеть прогресс всех пользователей, **чтобы** отслеживать их активность.

**Критерии приёмки:**

- Страница со списком пользователей и их прогрессом
- Фильтрация по roadmap
- Отображение процента выполнения для каждого пользователя

---

## 11. Редактирование профиля

**Как** пользователь, **я хочу** редактировать свой профиль, **чтобы** обновлять email или изменять пароль.

**Критерии приёмки:**

- Страница профиля с полями username, email, password (опционально)
- Пользователь может изменять только свой профиль
- Валидация: email валидный, password минимум 8 символов (если меняется)
- Поле `role` не доступно для редактирования пользователем
- После сохранения → уведомление об успехе

---

## Валидации полей

### Форма аутентификации

- username: string, не пустое → ошибка: «Введите имя пользователя»
- email: string, валидный email → ошибка: «Введите корректный email»
- password: string, минимум 8 символов, минимум 1 цифра, минимум 1 буква → ошибка: «Пароль должен содержать минимум 8 символов, включая цифры и буквы»

### Карточка Roadmap

- title: string, не пустое → ошибка: «Введите название дорожной карты»
- description: string, опционально
- category: string, опционально
- difficulty: enum [beginner, intermediate, advanced], опционально → ошибка: «Выберите уровень сложности»
- is_published: boolean, по умолчанию false

### Карточка Step

- roadmap_id: reference, не пустое → ошибка: «Выберите дорожную карту»
- title: string, не пустое → ошибка: «Введите название шага»
- description: string, опционально
- order: number, не пустое → ошибка: «Укажите порядок шага»

### Карточка Resource

- step_id: reference, не пустое → ошибка: «Выберите шаг»
- title: string, не пустое → ошибка: «Введите название ресурса»
- url: string, валидный URL → ошибка: «Введите корректный URL»
- type: enum [article, video, course] → ошибка: «Выберите тип ресурса»
