# Вариант 20 — WBS (эпики → фичи → задачи)

## Эпик A. Модель данных и миграции

**Фичи:**
- Схемы `User`, `Post`, `Reply`, `Follow`, `Like`, `Report`
- Базовые миграции

**Задачи:**
- A1. Описать таблицы и связи
- A2. Написать миграции
- A3. Подготовить демо-данные (пользователи, посты, подписки)

---

## Эпик B. API микроблога

**Фичи:**
- REST API: `/posts`, `/feed`, `/follows`, `/likes`, `/reports`, `/replies`

**Задачи:**
- B1. Реализовать CRUD для Post (включая редактирование с меткой `edited`)
- B2. Реализовать API подписок / отписок
- B3. Реализовать лайки / анлайки
- B4. Реализовать создание жалоб (Report API)
- B5. Добавить пагинацию, сортировку и фильтры в endpoints

---

## Эпик C. Лента и алгоритм Feed

**Фичи:**
- Персональная лента на основе Follow
- Сортировка по времени, базовое ранжирование

**Задачи:**
- C1. Реализовать ORM/SQL запрос формирования ленты по подпискам
- C2. (Бонус) Добавить кэширование
- C3. Написать тесты корректности формирования ленты

---

## Эпик D. UI / фронтенд

**Фичи:**
- Лента, профиль, посты, формы, ответы
- Отображение метки `edited`

**Задачи:**
- D1. Страница ленты (Feed)
- D2. Страница профиля пользователя
- D3. Компонент создания/редактирования постов
- D4. UI для лайков, подписок, ответов
- D5. Страница поста с деревом ответов

---

## Эпик E. Безопасность и роли

**Фичи:**
- Аутентификация, авторизация
- Политика редактирования постов
- Роли: Пользователь / Администратор / Сервис(опционально)

**Задачи:**
- E1. Реализовать RBAC
- E2. Ограничить редактирование постов владельцем
- E3. Реализовать отображение `edited`
- E4. Тесты прав доступа

---

## Эпик F. Модерация и жалобы

**Фичи:**
- Создание и обработка жалоб
- Админ-панель для модерации

**Задачи:**
- F1. Обработка жалоб (`new`, `accepted`, `rejected`)
- F2. Интерфейс администратора для просмотра жалоб
- F3. (Бонус) Логи действий

---

## Эпик G. Окружение и CI/CD

**Фичи:**
- Docker, CI/CD, тестирование
- Демо-окружение

**Задачи:**
- G1. Dockerfile + docker-compose
- G2. Github Actions / CI pipeline
- G3. Подготовить демо-окружение
- G4. Интеграционные тесты
