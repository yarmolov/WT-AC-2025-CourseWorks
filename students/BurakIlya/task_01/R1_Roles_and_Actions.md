# Вариант 43 — Волонтёры «Помощь рядом» — Роли и действия

## Краткое описание

MVP: HelpRequest, Category, VolunteerProfile, Assignment, Review, User. UI отображает список запросов помощи, возможность откликнуться волонтёру, чат (UI-заглушка), отзывы; API: /requests, /categories, /volunteers, /assignments, /reviews. Приёмка (MVP): создание запроса помощи, поиск запросов, назначение волонтёра.

## Роли и основные действия

Система использует **2 роли**: `admin` и `user`.
Волонтёр — это `user`, создавший себе `VolunteerProfile`.

### Администратор (role: admin)

- CRUD для пользователей
- CRUD для категорий помощи (Category)
- Модерация профилей волонтёров (VolunteerProfile)
- Назначение волонтёров на запросы
- Модерация запросов и отзывов
- Просмотр всех данных и статистики

### Пользователь (role: user)

- Создание запросов помощи (HelpRequest)
- Просмотр своих запросов и статусов
- Общение с волонтёром через чат (UI-заглушка)
- Оставление отзывов (Review) после завершения помощи
- Просмотр профилей волонтёров
- Создание своего VolunteerProfile (становится волонтёром)

### Пользователь с VolunteerProfile (волонтёр)

- Все права обычного пользователя
- Просмотр доступных запросов помощи (со статусом `new`)
- Фильтрация запросов по категории и локации
- Отклик на запрос помощи (создание Assignment)
- Изменение статуса выполнения своего задания
- Просмотр и редактирование своего профиля волонтёра

## Примеры сценариев

1. User регистрируется → создаёт VolunteerProfile → становится волонтёром.
2. Пользователь создаёт запрос помощи с категорией "Доставка продуктов" → волонтёр видит запрос в списке → откликается → система создаёт Assignment → статус запроса меняется на "assigned".
3. Волонтёр завершает помощь → пользователь оставляет Review с оценкой → рейтинг волонтёра обновляется.

## Проверки безопасности (обязательные)

- **Отклик на запрос**: проверка наличия VolunteerProfile у user.
- **Удаление HelpRequest**: только если `status = 'new'`.
- **Создание Review**: только для своего completed Assignment.
- **Изменение Assignment**: только назначенный волонтёр или admin.
