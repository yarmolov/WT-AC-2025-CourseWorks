# Вариант 16 — WBS (эпики → фичи → задачи)

- Эпик A. Модель данных и миграции
  - Фичи: схемы User/Notebook/Note/Label/NoteLabel/Share/NoteHistory; миграции
  - Задачи: A1. Описать таблицы и связи; A2. Написать миграции; A3. Подготовить демо-данные; A4. Добавить is_system для Label

- Эпик B. API и интеграция данных
  - Фичи: REST API (/notebooks, /notes, /labels, /shares, /notes/{id}/labels, /notes/{id}/history); WebSocket (бонус)
  - Задачи: B1. Реализовать endpoints CRUD; B2. Реализовать фильтрацию и пагинацию; B3. Добавить авторизацию на эндпоинты; B4. Реализовать /auth/logout; B5. Эндпоинты для связи Note-Label; B6. Эндпоинты для истории заметок

- Эпик C. Система доступов (Share)
  - Фичи: предоставление/отзыв доступа, уровни permission (read/write), self-unshare
  - Задачи: C1. Реализовать логику Share; C2. Валидация self-share (400); C3. Проверка дублирования (409); C4. Реализовать self-unshare; C5. Тесты на проверку доступов; C6. UI для управления доступами

- Эпик D. UI / редактор заметок
  - Фичи: список тетрадей, редактор заметок, метки, история изменений
  - Задачи: D1. Компонент списка тетрадей; D2. Страница редактирования заметки; D3. Компонент меток с фильтрацией; D4. UI просмотра истории; D5. UI восстановления версии

- Эпик E. Безопасность и роли
  - Фичи: аутентификация, авторизация, scope доступа, проверка permission
  - Задачи: E1. Реализовать RBAC; E2. Проверка permission=read → 403 при редактировании; E3. Тесты доступа; E4. Документация прав

- Эпик F. История изменений (NoteHistory)
  - Фичи: сохранение версий, просмотр истории, восстановление
  - Задачи: F1. Автосохранение при PUT /notes/{id}; F2. GET /notes/{id}/history; F3. POST /notes/{id}/history/{historyId}/restore

- Эпик G. Окружение и CI/CD
  - Фичи: Docker, Kubernetes manifests (бонус), CI pipeline, тесты
  - Задачи: G1. Dockerfile; G2. Github Actions/CI; G3. Подготовить инструкции для демо
