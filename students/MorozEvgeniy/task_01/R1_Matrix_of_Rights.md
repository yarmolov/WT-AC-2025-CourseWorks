# Вариант 18 — Матрица прав (операция × роль)

Операции: Просмотр рецептов, CRUD своих рецептов, CRUD ингредиентов (справочник), План питания (MealPlan), Список покупок (ShoppingList), Управление пользователями.

Роли: Администратор, Пользователь, Гость

Таблица (кто может что)

| Операция                            | Администратор | Пользователь | Гость |
|-------------------------------------|:-------------:|:------------:|:-----:|
| Просмотр списка рецептов            | ✓             | ✓            | ✓     |
| Просмотр деталей рецепта            | ✓             | ✓            | ✓     |
| Создать рецепт (Recipe)             | ✓             | ✓            | ✗     |
| Редактировать свой рецепт           | ✓             | ✓            | ✗     |
| Удалить свой рецепт                 | ✓             | ✓            | ✗     |
| Удалить чужой рецепт (модерация)    | ✓             | ✗            | ✗     |
| Создать/Ред. Ингредиент (справочник)| ✓             | ✗            | ✗     |
| Создать/Ред. Тег (Tag)              | ✓             | ✗            | ✗     |
| Управление MealPlan (CRUD)          | ✓ (просмотр)  | ✓ (свой)     | ✗     |
| Управление ShoppingList (CRUD)      | ✓ (просмотр)  | ✓ (свой)     | ✗     |
| Управление пользователями           | ✓             | ✗            | ✗     |
| Комментирование/Оценка (бонус)      | ✓             | ✓            | ✗     |

Примечания:

- Гость имеет доступ только к чтению (Read-only) публичного контента.
- Ингредиенты (`Ingredients`) являются общим справочником, чтобы поиск работал корректно. Пользователь при создании рецепта выбирает из существующих или предлагает новый (который может требовать одобрения, но в MVP можно упростить до выбора).
- Списки покупок и Планы питания строго приватны (scope: user_id).
- Администратор может видеть данные пользователей для техподдержки, но не меняет их личные планы без запроса.
