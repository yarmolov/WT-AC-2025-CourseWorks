# Вариант 40 — Заявки «Да, я в деле» — Роли и действия

Краткое описание

MVP: Application, Form, Status, Attachment, User. UI отображает список заявок, их статусы, формы подачи и прикреплённые файлы; API: /applications, /forms, /statuses, /attachments. Приёмка (MVP): корректный трекинг статуса заявки через все этапы.

Роли и основные действия

- Администратор
  - CRUD для пользователей
  - CRUD для форм заявок (Form)
  - CRUD для статусов (Status)
  - Управление всеми заявками (Application): просмотр, изменение статуса, удаление
  - Просмотр журнала событий и истории изменений статусов
  - Настройка этапов согласования (бонус)

- Модератор
  - Просмотр всех заявок
  - Изменение статуса заявок (согласование/отклонение)
  - Добавление комментариев к заявкам
  - Просмотр вложений (Attachment)

- Пользователь
  - Просмотр доступных форм заявок
  - Создание новых заявок (Application) по выбранной форме
  - Загрузка вложений (Attachment) к своим заявкам (max 10 файлов, общий размер до 50 МБ)
  - Просмотр статуса своих заявок
  - Редактирование заявки до отправки на рассмотрение
  - Отзыв заявки (отмена) — через эндпоинт `/applications/{id}/withdraw`

- Гость (неавторизованный)
  - Примечание: гость — это неаутентифицированный пользователь, не имеющий записи в таблице `users`
  - Просмотр списка доступных форм
  - Регистрация / Вход в систему

Примеры сценариев

- Администратор создаёт новую форму заявки (например, «Заявка на участие в мероприятии»), настраивает обязательные поля и возможные статусы → Пользователь заполняет форму, прикрепляет файлы → Модератор рассматривает заявку и меняет статус → Пользователь видит изменение статуса в личном кабинете.
- Пользователь создаёт заявку, загружает документы, отслеживает прогресс по этапам согласования; при отклонении получает уведомление с причиной.
