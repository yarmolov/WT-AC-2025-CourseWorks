# Вариант 35 — Матрица прав (операция × роль)

Операции: Просмотр поездок, Создать/Редактировать/Удалить Trip, Создать/Редактировать/Удалить Stop, Создать/Редактировать/Удалить Note, Создать/Редактировать/Удалить Expense, Шаринг поездки, Управление пользователями, Просмотр статистики.

Роли: Администратор, Пользователь

Таблица (кто может что)

- Просмотр своих поездок: Администратор, Пользователь
- Просмотр всех поездок: Администратор
- Создать Trip: Пользователь
- Редактировать/Удалить свой Trip: Пользователь
- Редактировать/Удалить любой Trip: Администратор
- Создать Stop: Пользователь (владелец поездки или участник)
- Редактировать/Удалить Stop: Любой участник поездки (для совместного планирования)
- Создать Note: Пользователь (владелец поездки или участник)
- Редактировать Note: Пользователь (автор заметки)
- Удалить Note: Автор, владелец поездки или Администратор
- Создать Expense: Пользователь (владелец поездки или участник)
- Редактировать Expense: Пользователь (автор расхода)
- Удалить Expense: Автор, владелец поездки или Администратор
- Шаринг поездки (приглашение): Пользователь (владелец поездки)
- Управление пользователями: Администратор
- Просмотр статистики системы: Администратор

Примечания:

- По умолчанию пользователь видит только свои поездки и те, в которых он участник.
- Владелец поездки (определяется через Trip.owner_id) имеет полный контроль над поездкой и может удалить её, а также модерировать контент (удалять заметки и расходы других участников).
- Участники поездки могут добавлять контент, но не могут удалить саму поездку.
- Любой участник может редактировать остановки (Stop) для совместного планирования маршрута.
